# Realtime Desk üöÄ

**Realtime Desk** ‚Äî —ç—Ç–æ –≤—ã—Å–æ–∫–æ–Ω–∞–≥—Ä—É–∂–µ–Ω–Ω–∞—è –∫–∞–Ω–±–∞–Ω-–¥–æ—Å–∫–∞ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –Ω–∞ —Å–æ–±—ã—Ç–∏–π–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ. –ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –Ω–∞–≤—ã–∫–∏ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è Node.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º–∏ –∏–Ω—Å—Ç–∞–Ω—Å–∞–º–∏ —Å–µ—Ä–≤–µ—Ä–∞.

## üåü –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
*   **–ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ WebSockets (Socket.io) –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è UI –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏.
*   **–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ë–ª–∞–≥–æ–¥–∞—Ä—è Redis Pub/Sub, —Å–æ–±—ã—Ç–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –º–µ–∂–¥—É –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞–º–∏ –±—ç–∫–µ–Ω–¥–∞.
*   **–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Redis –≤ –∫–∞—á–µ—Å—Ç–≤–µ In-memory –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é –∑–∞–¥–µ—Ä–∂–∫—É (low latency) –ø—Ä–∏ –æ–ø–µ—Ä–∞—Ü–∏—è—Ö —Å –¥–∞–Ω–Ω—ã–º–∏.
*   **Event-Driven UI:** –†–µ–∞–∫—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ SvelteKit, –∫–æ—Ç–æ—Ä—ã–π –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –æ—Ç–∫–ª–∏–∫–∞–µ—Ç—Å—è –Ω–∞ —Å–æ–±—ã—Ç–∏—è —Å–µ—Ä–≤–µ—Ä–∞ —á–µ—Ä–µ–∑ Svelte Stores.
*   **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞–∫ –∫–æ–¥:** –í—Å—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (Redis) –æ–ø–∏—Å–∞–Ω–∞ –≤ Docker Compose –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Ä–∞–∑–≤–µ—Ä—Ç–∫–∏.

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
*   **Frontend:** SvelteKit, TypeScript, Svelte Stores.
*   **Backend:** NestJS (Node.js framework), Socket.io, Redis.
*   **DevOps:** Docker, Docker Compose.
*   **Protocol:** WebSockets + Redis Adapter.

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã
–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω Distributed Pub/Sub —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ (SSR):
1. **SSR (SvelteKit):** –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ —Å–µ—Ä–≤–µ—Ä –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≥–æ—Ç–æ–≤—ã–π HTML-–∫–∞—Ä–∫–∞—Å –¥–æ—Å–∫–∏. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (LCP) –∏ SEO-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é.
2. **Hydration & WS:** –ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ ¬´–æ–∂–∏–≤–∞–µ—Ç¬ª JavaScript, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—è WebSocket-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –¥–æ—Å—Ç—É–ø–Ω—ã–º –∏–Ω—Å—Ç–∞–Ω—Å–æ–º **NestJS**.
3. **Reactive State:** –î–∞–Ω–Ω—ã–µ –æ—Ç —Å–æ–∫–µ—Ç–æ–≤ –ø–æ–ø–∞–¥–∞—é—Ç –≤ **Svelte Stores**, —á—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI –≤–æ –≤—Å–µ—Ö –≤–∫–ª–∞–¥–∫–∞—Ö –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏.
4. **Backend & Persistent Storage:** –°–µ—Ä–≤–µ—Ä –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ **Redis** –∏ –ø—É–±–ª–∏–∫—É–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ –æ–±—â—É—é —à–∏–Ω—É –¥–∞–Ω–Ω—ã—Ö.
5. **Sync (Redis Pub/Sub):** –í—Å–µ –∏–Ω—Å—Ç–∞–Ω—Å—ã –±—ç–∫–µ–Ω–¥–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –ø–æ–ª—É—á–∞—é—Ç —Å–æ–±—ã—Ç–∏–µ —á–µ—Ä–µ–∑ –∞–¥–∞–ø—Ç–µ—Ä –∏ —Ç—Ä–∞–Ω—Å–ª–∏—Ä—É—é—Ç –µ–≥–æ —Å–≤–æ–∏–º –∫–ª–∏–µ–Ω—Ç–∞–º, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã.


## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### 1. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
* Docker
* Node.js (v18+)
* pnpm (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### 2. –ó–∞–ø—É—Å–∫ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã (Redis)
```bash
cd server
docker-compose up -d
```

### 3. –ó–∞–ø—É—Å–∫ –ë—ç–∫–µ–Ω–¥–∞ (NestJS)
```bash
pnpm install
pnpm run start:dev
```

### 4. –ó–∞–ø—É—Å–∫ –§—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (SvelteKit)
```bash
cd ../client
pnpm install
pnpm run dev
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏
–ß—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–∞—è:
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Ç–æ—Ä–æ–π —Å–µ—Ä–≤–µ—Ä –≤ –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:
```bash
PORT=3001 pnpm run start:dev
```
2. –û—Ç–∫—Ä–æ–π—Ç–µ –¥–≤–µ –≤–∫–ª–∞–¥–∫–∏ –±—Ä–∞—É–∑–µ—Ä–∞:
* –í–∫–ª–∞–¥–∫–∞ –ê: ```bashhttp://localhost:5173``` (–ø–æ–¥–∫–ª—é—á–µ–Ω–∞ –∫ –ø–æ—Ä—Ç—É 3000)
* –í–∫–ª–∞–¥–∫–∞ –ë: ```bashhttp://localhost:5173/?port=3001``` (–ø–æ–¥–∫–ª—é—á–µ–Ω–∞ –∫ –ø–æ—Ä—Ç—É 3001)
3. –õ—é–±–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤ –æ–¥–Ω–æ–π –≤–∫–ª–∞–¥–∫–µ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—Å—è –≤ –¥—Ä—É–≥–æ–π ‚Äî –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—à–ª–∏ —á–µ—Ä–µ–∑ Redis!